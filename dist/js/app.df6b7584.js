webpackJsonp([1],{0:function(t,e,n){t.exports=n("NHnr")},"6UIl":function(t,e){t.exports={"todo-items":"TodoItems_todo-items__2EC0c"}},"6siT":function(t,e){},JPXV:function(t,e){t.exports={"todo-item":"TodoItem_todo-item__3QhRt","first-row":"TodoItem_first-row__2q5pv","todo-item-title":"TodoItem_todo-item-title__m9o4j",expand:"TodoItem_expand__3cudJ",functor:"TodoItem_functor__2scCT",icon:"TodoItem_icon__25LOF",delete:"TodoItem_delete__2wspz TodoItem_icon__25LOF",edit:"TodoItem_edit__uM47O TodoItem_icon__25LOF"}},MxOl:function(t,e){t.exports={root:"Setting_root__t5O6k",panel:"Setting_panel__3gTXx",search:"Setting_search__3Ta86",radioTitle:"Setting_radioTitle__2ZEgd",radioRoot:"Setting_radioRoot__3-pXl",apply:"Setting_apply__2Q8iH"}},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("/5sW"),i=(n("6siT"),n("Pi1K"),n("w1QW"),n("XK0h"),n("EuXz"),n("WpTh"),{name:"IconButton",props:["icon"]}),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("i",{staticClass:"material-icons"},[t._v("\n  "+t._s(t.icon)+"\n")])},d=[],r=n("XyMi"),a=!1,l=null,c=null,u=null,p=Object(r["a"])(i,s,d,a,l,c,u),_=p.exports,h=new o["a"],m={name:"Header",components:{IconButton:_},props:["title"],methods:{openSetting:function(){h.$emit("OPEN_SETTING")}}},f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style["header-root"]},[n("span",{class:t.$style["title"]},[t._v(t._s(t.title))]),n("IconButton",{class:t.$style.filter,attrs:{icon:"filter_list"},nativeOn:{click:function(e){return t.openSetting(e)}}})],1)},v=[];function y(t){this["$style"]=n("oUnx")}var x=!1,T=y,I=null,g=null,$=Object(r["a"])(m,f,v,x,T,I,g),k=$.exports,E={name:"TodoInput",components:{IconButton:_},props:["edit"],data:function(){return{title:"",editId:"",editTitle:""}},watch:{edit:function(t){if(!t)return null;this.editId=t.id,this.editTitle=t.title}},computed:{value:function(){return this.editId?this.editTitle:this.title},valueExist:function(){return this.editId&&this.editTitle||!this.editId&&this.title}},methods:{onChange:function(t){var e=t.target.value;this.editId?this.editTitle=e:this.title=e},onClick:function(){if(!this.valueExist)return null;this.editId?this.onEdit():this.onAdd()},onAdd:function(){this.$emit("add",this.title),this.title=""},onEdit:function(){var t=this;this.$emit("edit",{id:this.editId,title:this.editTitle}),this.editTitle="",setTimeout(function(){t.editId=""},900)}}},w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style["input-root"]},[n("input",{class:t.$style.input,attrs:{type:"text",placeholder:"add todo ..."},domProps:{value:t.value},on:{input:t.onChange,keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onClick(e):null}}}),n("transition",{attrs:{name:"fade"}},[n("IconButton",{directives:[{name:"show",rawName:"v-show",value:t.valueExist,expression:"valueExist"}],attrs:{icon:t.editId?"edit":"add"},nativeOn:{click:function(e){return t.onClick(e)}}})],1)],1)},b=[];function O(t){this["$style"]=n("dLSf")}var q=!1,S=O,P=null,C=null,D=Object(r["a"])(E,w,b,q,S,P,C),N=D.exports,j=(n("qwQ3"),{name:"Checkbox",components:{IconButton:_},props:["default"],data:function(){return{value:null}},created:function(){this.value=this.default},methods:{click:function(){this.value=!this.value,this.$emit("click",this.value)}}}),B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:[t.value?t.$style.checked:t.$style.checkbox,"noselect"],on:{click:t.click}},[n("i",{directives:[{name:"show",rawName:"v-show",value:!t.value,expression:"!value"}]},[t._v("no")]),n("transition",{attrs:{name:"fade"}},[n("IconButton",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"value"}],attrs:{icon:"check"}})],1)],1)},R=[];function A(t){this["$style"]=n("s++6")}var H=!1,L=A,M=null,X=null,F=Object(r["a"])(j,B,R,H,L,M,X),W=F.exports,J={name:"TodoItem",components:{Checkbox:W,IconButton:_},data:function(){return{expanded:!1}},props:["title","functor","id","onDone","onDelete","onEdit"],methods:{expande:function(){this.expanded=!this.expanded}}},Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{class:t.$style["todo-item"]},[n("div",{class:t.$style["first-row"]},[n("Checkbox",{attrs:{default:!!t.functor},on:{click:function(e){return t.onDone(t.id,e)}}}),n("div",{class:t.$style["todo-item-title"]},[t._v(t._s(t.title))]),n("IconButton",{staticClass:"noselect",attrs:{icon:t.expanded?"expand_less":"expand_more"},nativeOn:{click:function(e){return t.expande(e)}}})],1),n("transition",{attrs:{name:"bounce"}},[t.expanded?n("div",{class:t.$style.expand},[n("span",{class:t.$style.functor},[t._v(t._s(t.functor&&"Done By "+t.functor))]),n("IconButton",{class:t.$style.delete,attrs:{icon:"close"},nativeOn:{click:function(e){t.onDelete(t.id)}}}),n("IconButton",{class:t.$style.edit,attrs:{icon:"edit"},nativeOn:{click:function(e){t.onEdit(t.id)}}})],1):t._e()])],1)},G=[];function K(t){this["$style"]=n("JPXV")}var U=!1,z=K,V=null,Y=null,Z=Object(r["a"])(J,Q,G,U,z,V,Y),tt=Z.exports,et=window,nt=et.R,ot={name:"TodoItems",components:{TodoItem:tt},data:function(){return{query:"",done:"all",time:"descending"}},props:["todos","onDone","onDelete","onEdit"],mounted:function(){var t=this;h.$on("APPLY_SETTING",function(e){t.query=e.query,t.done=e.done,t.time=e.time})},computed:{computedTodos:function(){return nt.compose(this.order,nt.filter(this.searchTitle),nt.filter(this.doneFilter))(this.todos)}},methods:{searchTitle:function(t){var e=t.title;if(!this.query.length)return!0;var n=e.search(this.query);return!(n<0)},doneFilter:function(t){var e=t.functor;return"all"===this.done||("done"===this.done?e:"undone"===this.done?!e:void 0)},order:function(t){return"descending"===this.time?t:"ascending"===this.time?nt.reverse(t):void 0}}},it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition-group",{class:t.$style["todo-items"],attrs:{tag:"ul",name:"list"}},t._l(t.computedTodos,function(e){return n("TodoItem",t._b({key:e.id,attrs:{onDone:t.onDone,onDelete:t.onDelete,onEdit:t.onEdit}},"TodoItem",e,!1))}))},st=[];function dt(t){this["$style"]=n("6UIl")}var rt=!1,at=dt,lt=null,ct=null,ut=Object(r["a"])(ot,it,st,rt,at,lt,ct),pt=ut.exports,_t={name:"Setting",props:["options"],data:function(){return{open:!1,query:"",done:"all",time:"descending"}},mounted:function(){var t=this;h.$on("OPEN_SETTING",function(){t.changeOpen(!0)})},methods:{changeOpen:function(t){this.open=t},applySetting:function(){this.changeOpen(!1),h.$emit("APPLY_SETTING",{query:this.query,done:this.done,time:this.time})}}},ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.open?n("div",{class:t.$style.root,on:{click:function(e){if(e.target!==e.currentTarget)return null;t.changeOpen(!1)}}},[n("div",{class:t.$style.panel},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],class:t.$style.search,attrs:{type:"text",placeholder:"search in titles"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),n("div",{class:t.$style.radioTitle},[t._v("filter based on done")]),n("div",{class:t.$style.radioRoot},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.done,expression:"done"}],attrs:{type:"radio",value:"all"},domProps:{checked:t._q(t.done,"all")},on:{change:function(e){t.done="all"}}}),n("label",{attrs:{for:"one"}},[t._v("all")])]),n("div",{class:t.$style.radioRoot},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.done,expression:"done"}],attrs:{type:"radio",value:"done"},domProps:{checked:t._q(t.done,"done")},on:{change:function(e){t.done="done"}}}),n("label",{attrs:{for:"two"}},[t._v("done")])]),n("div",{class:t.$style.radioRoot},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.done,expression:"done"}],attrs:{type:"radio",value:"undone"},domProps:{checked:t._q(t.done,"undone")},on:{change:function(e){t.done="undone"}}}),n("label",{attrs:{for:"two"}},[t._v("undone")])]),n("div",{class:t.$style.radioTitle},[t._v("filter based on time")]),n("div",{class:t.$style.radioRoot},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.time,expression:"time"}],attrs:{type:"radio",value:"ascending"},domProps:{checked:t._q(t.time,"ascending")},on:{change:function(e){t.time="ascending"}}}),n("label",{attrs:{for:"one"}},[t._v("ascending")])]),n("div",{class:t.$style.radioRoot},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.time,expression:"time"}],attrs:{type:"radio",value:"descending"},domProps:{checked:t._q(t.time,"descending")},on:{change:function(e){t.time="descending"}}}),n("label",{attrs:{for:"two"}},[t._v("descending")])]),n("button",{class:t.$style.apply,on:{click:t.applySetting}},[t._v("\n      Apply\n    ")])])]):t._e()},mt=[];function ft(t){this["$style"]=n("MxOl")}var vt=!1,yt=ft,xt=null,Tt=null,It=Object(r["a"])(_t,ht,mt,vt,yt,xt,Tt),gt=It.exports,$t=window,kt=$t.W,Et=function(){return Math.floor(1e13*Math.random())},wt=function(t){return kt.share.dispatch([],t,[])},bt=function(t){return wt(["__append",[{id:Et(),title:t}]])},Ot=function(t,e){return wt(["__map",[["__ifElse",[["__propEq",["id",t]],["__assoc",["title",e]],["__identity",[]]]]]])},qt=function(t,e){return wt(["__map",[["__ifElse",[["__propEq",["id",t]],["__assoc",["functor",e]],["__identity",[]]]]]])},St=function(t){return wt(["__reject",[["__propEq",["id",t]]]])},Pt=window,Ct=Pt.W,Dt=Pt.R,Nt={name:"app",components:{Header:k,TodoInput:N,TodoItems:pt,Setting:gt},data:function(){return{title:"Todolite",name:"Ali",todos:[],editId:""}},mounted:function(){var t=this;Ct.share.getFromServer([]).then(function(){return Ct.start()}),Ct.share.subscribe(function(e){t.todos=e&&e.length?Dt.clone(e):[]})},computed:{edit:function(){return Dt.find(Dt.propEq("id",this.editId),this.todos)}},methods:{onAdd:function(t){bt(t,this.todos)},onEdit:function(t){Ot(t.id,t.title,this.todos),this.editId=""},onDone:function(t,e){qt(t,e?this.name:"",this.todos)},onDelete:function(t){St(t,this.todos)},onClickEdit:function(t){this.editId=t}}},jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.root},[n("Header",{attrs:{title:t.title}}),n("TodoItems",{attrs:{todos:t.todos,onDone:t.onDone,onDelete:t.onDelete,onEdit:t.onClickEdit}}),n("TodoInput",{attrs:{edit:t.edit},on:{add:t.onAdd,edit:t.onEdit}}),n("Setting")],1)},Bt=[];function Rt(t){this["$style"]=n("fSpt")}var At=!1,Ht=Rt,Lt=null,Mt=null,Xt=Object(r["a"])(Nt,jt,Bt,At,Ht,Lt,Mt),Ft=Xt.exports;o["a"].config.productionTip=!1,new o["a"]({render:function(t){return t(Ft)}}).$mount("#app")},Pi1K:function(t,e){},XK0h:function(t,e){},dLSf:function(t,e){t.exports={"input-root":"TodoInput_input-root__3wRFE",input:"TodoInput_input__28qMj"}},fSpt:function(t,e){t.exports={root:"App_root__2SJlR"}},oUnx:function(t,e){t.exports={"header-root":"Header_header-root__zLgP1",title:"Header_title__xw9kv",filter:"Header_filter__2tst4"}},"s++6":function(t,e){t.exports={checkbox:"Checkbox_checkbox__7A8qm",checked:"Checkbox_checked__3oaPo Checkbox_checkbox__7A8qm"}},w1QW:function(t,e){}},[0]);
//# sourceMappingURL=app.df6b7584.js.map